<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>请等待其他人输入密码...</title>
    <link href="../default/jquery.mobile.theme-1.4.5.css" rel="stylesheet"/>
    <link href="../default/jquery.mobile.icons-1.4.5.min.css" rel="stylesheet"/>
    <link href="../default/jquery.mobile.structure-1.4.5.min.css" rel="stylesheet"/>
    <link href="setup.css" rel="stylesheet"/>
    <script src="../default/jquery-1.12.4.min.js"></script>
    <script>
        $(document).on("mobileinit", function () {
            $.mobile.ajaxEnabled = true;
        });
    </script>
    <script src="../default/jquery.mobile-1.4.5.min.js"></script>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
</head>
<body>
<div data-role="page" data-theme="a" data-title="Untitled Page" id="set_center">
    <div data-role="header" id="Header1">
        <h1>请等待其他人输入密码...</h1>
    </div>
    <!--div class="ui-content" role="main"></div>

    </div-->
    <p id="capsulename">正在获取</p>
    <p id="total">正在获取</p>
    <p id="completed">正在获取</p>
    <p id="uncompleted">正在获取</p>
    <p>id</p>

    <script>
        (function ($) {
            $.getUrlParam = function (name) {
                var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)");
                var r = window.location.search.substr(1).match(reg);
                if (r != null) return unescape(r[2]);
                return null;
            }
        })(jQuery);
        $.getJSON("../status?", {
            action: "getDecryptProcessStatus",
            processid: $.getUrlParam("processid")
        }, function (data) {
            $("#capsulename").text("胶囊名称：" + data.capsulename);
            $("#totalNum").text("总参与者人数：" + data.totalNum);
            $("#leastNum").text("最少解密者人数：" + data.leastNum);
            $("#completedNum").text("已经完成输入的人数：" + data.completedNum);
            $("#completedUsers").text("已经完成输入的参与者：" + data.completedUsers);
        })
    </script>
</div>
</body>
</html>